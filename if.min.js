var _if={class:{success:"success",error:"danger"},init:function(elements,options){options=options?options:{},elements=elements?elements:"input, select",elements=document.querySelectorAll(elements),options.timeout="undefined"!=typeof options.timeout?options.timeout:200;for(_key in options.class)_class=options.class[_key],eval("_if.class."+_key+' = "'+_class+'"');Array.prototype.forEach.call(elements,function(a,b){a.hasAttribute&&(a.onkeydown=a.onchange=function(){clearTimeout(a.timeout),a.timeout=null,a.timeout=setTimeout(function(a){_if.check(a),_if.checkForm()},options.timeout,this)},a.attr=function(a){return this.getAttribute(a)},null!==a.attr("required")&&a.onchange(),a.getType=function(){types=[];for(key in _if.test)type=_if.test[key],type(this.value)&&types.push(key);return types},a.getLength=function(){return this.value.length},a.getCheck=function(){return this.checked},a.setClass=function(a){for(_class in _if.class)_class=_if.class[_class],this.className=this.className.replace(" "+_class,"");a&&(this.className+=" "+a)})})},replaceAll:function(a,b,c){return a.replace(new RegExp(b,"gm"),c)},checkForm:function(){forms=document.querySelectorAll("form"),Array.prototype.forEach.call(forms,function(a,b){a.valid=!0;for(item in a.childNodes)item=a.childNodes[item],0==item.valid&&(a.valid=!1);className=a.valid?_if.class.success:_if.class.error;for(_class in _if.class)_class=_if.class[_class],a.className&&(a.className=a.className.replace(" "+_class,""));a.hasAttribute("if")&&(a.className+=" "+className)})},check:function(item){_require=item.attr("if"),_require=_require.replace("this","item"),_require=_require.replace("type","getType()"),_require=_require.replace("length","getLength()"),_require=_require.replace("checked","getCheck()"),_require=_require.replace("valid","getValid()"),_require=_if.replaceAll(_require,"-","_"),eval(_require)?(item.setClass(_if.class.success),item.valid=!0):(item.setClass(_if.class.error),item.valid=!1)},test:{email:function(a){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(a)},date:function(a){return a=_if.replaceAll(a,"_","-"),a=_if.replaceAll(a,"/","-"),/[0-9]{4}[-](0[1-9]|1[0-2])[-]([0-2]{1}[0-9]{1}|3[0-1]{1})|([0-2]{1}[0-9]{1}|3[0-1]{1})[-](0[1-9]|1[0-2])[-][0-9]{4}/.test(a)},full_name:function(a){return/(.*) (.*)/.test(a)},phone:function(a){return/(?:(?:\+?1\s*(?:[.-]\s*)?)?(?:(\s*([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9]‌​)\s*)|([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9]))\s*(?:[.-]\s*)?)([2-9]1[02-9]‌​|[2-9][02-9]1|[2-9][02-9]{2})\s*(?:[.-]\s*)?([0-9]{4})\s*(?:\s*(?:#|x\.?|ext\.?|extension)\s*(\d+)\s*)?$/.test(a)}}};